episode: 1
title: Episode 1
subtitle: Organizing Our Defenses
rankId: cadet
nextRankId: cadet-first-class
labels: !!inc/file ./episodes/global/_labels.yaml
dev:
  startIndex: 0
  # skipSlate: true
chapters:
  # ----------------------------------------------
  # ------------------------------------ CHAPTER 1
  # ----------------------------------------------
  -
    title: Chapter 1
    subtitle: Facilities and Cyber Assets
    dev:
      volume: 1
      startIndex: 0
      # dontAnimate: [ 2, 3, 4]
    kind: chapter
    slides:
      # 1 Background Build in ==========================================
      -
        title: Facility Selector
        movie:
          layers:
            - {depth: 0, content: c1-sky.svg }
            - {depth: 1, content: c1-background-clouds-loop.json, loop: true }
            - {depth: 2, content: c1-background-buildin.json, events: [complete], cache: true }
        duration: {kind: listen, event: layer.2.complete}
      # 1 Warcore slide ==========================================
      -
        title: Warcore Load
        dialogue:
          defaults:
            next: audio
          timeline:
            - {action: b }
          actions:
            b:
              emo: down
              pos: [500,600]
              text: "The simulator is loaded! Track your progress through the episode here. Now we just need a facility."
              audio: Story_2_Ctanlee_X43.mp3
        duration: {kind: dialogue }
      # 1 Selector Facility ==========================================
      - !!inc/file ./episodes/episode1/yaml/_building-selector.yaml
      # 1 Selector Build ==========================================
      -
        movie:
          layers:
            - {depth: 3, cache: true, content: $facilityBuild}
            - {depth: 4, content: $facilityLoop, loop: true }
            - {depth: 5, content: ~1/interior_build.json}
        duration: {kind: time, seconds: 0.1}
      # 1 Building Tour Ctanlee ==========================================
      - !!inc/file ./episodes/episode1/yaml/_building-overview.yaml
      # 1 Dialogue BES Cyber Assets  ==========================================
      -
        title: BES Cyber Assets
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: BES Cyber Assets
                body: Our job is to protect the programmable equipment - <a data-label="cyber_assets" class="new">Cyber Assets<a> - in our facilities. Specifically, <a data-label="cip">CIP<a> protects equipment that will cause real-time operational problems for the Bulk Electric System if they are hacked, attacked, or disabled. Think control systems, relay devices, and other equipment. <a data-label="cip">CIP<a> calls these <a data-label="bes" class="new">BES Cyber Asset (BCA)<a>. <br/><br/>Our Compliance Team has already identified the BCA in this facility. Let me point them out for you.
                btn:
                  style: lightning
                  text: tag BCA
                  action: {cmd: slides.next-slide}
                labels:
                  a: {title: "BCA"}
      # 1 Zoom Assets overview  ==========================================
      -
        title: Asset Overview
        movie:
          layers:
            - {depth: 7, content: asset_view.json }
          zoom: {scale: 2, x: 600, y: 700}
        duration: {kind: time, seconds: .5 }
      # 1 Tagged Assets  ==========================================
      -
        duration: {kind: dialogue}
        dialogue:
          timeline:
            - {action: con-sys-rack }
            - {action: esp-ns }
            - {action: data-acs }
            - {action: control-sas }
            - {action: operator-ws }
          defaults:
            next: 3000
          actions:
            con-sys-rack:
              pos: con-sys-rack-hit
              action:
                - {cmd: highlight, data: {id: con-sys-rack, level: blue} }
                - {cmd: label.add, data: {id: con-sys-rack-hit, text: Control System, face: top, arrow: right} }
            esp-ns:
              pos: esp-ns-hit
              action:
                - {cmd: highlight, data: {id: esp-ns, level: blue } }
                - {cmd: label.add, data: {id: esp-ns-hit, text: Network Switch, face: bottom} }
            data-acs:
              pos: data-acs-hit
              action:
                - {cmd: highlight, data: {id: data-acs, level: blue} }
                - {cmd: label.add, data: {id: data-acs-hit, text: Data Acquisition and Control Server, face: left } }
            control-sas:
              pos: control-sas-hit
              action:
                - {cmd: highlight, data: {id: control-sas, level: blue} }
                - {cmd: label.add, data: {id: control-sas-hit, text: Control System Application Server, face: bottom, arrow: right } }
            operator-ws:
              pos: operator-ws-hit
              action:
                - {cmd: highlight, data: {id: operator-ws, level: blue } }
                - {cmd: label.add, data: {id: operator-ws-hit, text: Operator Workstation, face: right } }
      # 1 Ctanlee Narration  ==========================================
      -
        action:
          - {cmd: label.hide, data: {id: all}  }
        movie:
          zoom: {scale: 1}
          layers:
            - {depth: 7, content: clear }
        duration: {kind: dialogue}
        dialogue:
          timeline:
            - {action: a }
          actions:
            a:
              pos: [250,300]
              text: "Most facilities that fall under CIP have a lot of equipment like this that controls the Bulk Electric System. Imagine the damage the robots would do if they gained access to control a breaker, power plant or Tesla Cannon. Shudder."
              audio: Story_2_Ctanlee_8.mp3
              next: audio
      # 1 Dialogue Protected Cyber Assets  ==========================================
      -
        title: Protected Cyber Assets
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Protected Cyber Assets
                body: When BCA are connected to a network like these are, any other devices on the same network like file servers, network printers, and displays must also be protected at the same level as BCA so no security weaknesses are introduced to the network. We call these devices <a data-label="a">Protected Cyber Assets<a>.  <br/>I'll tag the PCA next.
                btn:
                  style: lightning
                  text: tag PCA
                  action: {cmd: slides.next-slide}
                labels:
                  a: {title: "PCA"}
      # 1 Zoom Assets view  ==========================================
      -
        movie:
          layers:
            - {depth: 7, content: asset_view.json }
          zoom: {scale: 2, x: 600, y: 700}
        duration: {kind: time, seconds: 0.2 }
      # 1 Zoom Assets overview  ==========================================
      -
        duration: {kind: dialogue }
        dialogue:
          timeline:
            - {action: file-server }
            - {action: map-computer }
            - {action: printer }
          defaults:
            next: 3000
          actions:
            file-server:
              pos: "file-server-hit"
              action:
                - {cmd: highlight, data: {id: file-server, level: orange} }
                - {cmd: label.add, data: {id: file-server-hit, text: File Server, face: top, arrow: right} }
            map-computer:
              pos: "map-computer-hit"
              action:
                - {cmd: highlight, data: {id: map-computer, level: orange} }
                - {cmd: label.add, data: {id: map-computer-hit, text: Map Computer, face: bottom, arrow: right} }
            printer:
              pos: "printer-hit"
              action:
                - {cmd: highlight, data: {id: printer, level: orange} }
                - {cmd: label.add, data: {id: printer-hit, text: Printer, face: bottom, arrow: right} }
      # 1 Ctanlee Narration  ==========================================
      -
        action:
          - {cmd: label.hide, data: {id: all}  }
        movie:
          layers:
            - {depth: 7, content: clear }
          zoom: {scale: 1}
        duration: {kind: dialogue}
        dialogue:
          timeline:
            - {action: a }
          actions:
            a:
              pos: [250,300]
              text: "You may be saying to yourself, CTANLEE it's just a printer! If we had more time I'd tell you about The Paperfeed Incident of '08 where some Virus Bots hijacked a corporate unit. Many Defenders still bear papercut scars."
              audio: Story_2_Ctanlee_9.mp3
              next: audio
      # 1 Dialogue BES Cyber System  ==========================================
      -
        title: BES Cyber System Information
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: BES Cyber System Information
                body: Facilities contain information useful for a bot planning an attack. For starters, we often have maps, security plans, network diagrams, and configuration information stored on hard drives, file shares, and in filing cabinets. This is called BES Cyber System Information (BCSI) and we must protect their locations. <br/>All BCA and PCA are assumed to contain BCSI, so we'll tag the other location we might find it.
                btn:
                  style: lightning
                  text: tag BCSI
                  action: {cmd: slides.next-slide}
      # 1 Zoom Assets view  ==========================================
      -
        movie:
          layers:
            - {depth: 7, content: asset_view.json }
        duration: {kind: time, seconds: 1 }
      # 1 Zoom Assets overview  ==========================================
      -
        duration: {kind: dialogue }
        dialogue:
          timeline:
            - {action: filing-cabinet }
            - {action: map }
            - {action: monitor }
          defaults:
            next: 3000
          actions:
            filing-cabinet:
              pos: "filing-cabinet-hit"
              action:
                - {cmd: highlight, data: {id: filing-cabinet, level: yellow} }
                - {cmd: label.add, data: {id: filing-cabinet-hit, text: Substation Diagrams, face: bottom, arrow: right} }
                - {cmd: movie.zoom, data: {scale: 2, id: filing-cabinet-hit }}
            map:
              pos: "map-computer-hit"
              action:
                - {cmd: highlight, data: {id: map, level: yellow} }
                - {cmd: label.add, data: {id: map-computer-hit, text: System Map, face: bottom, arrow: right} }
                - {cmd: movie.zoom, data: {scale: 2, id: map-computer-hit }}
            monitor:
              pos: "monitor-hit"
              action:
                - {cmd: highlight, data: {id: monitor, level: yellow} }
                - {cmd: label.add, data: {id: monitor-hit, text: Control System Views, face: top, arrow: right} }
                - {cmd: movie.zoom, data: {scale: 2, id: monitor-hit }}
      # 1 Dialogue Create Inventory  ==========================================
      -
        title: Creating an Inventory
        action:
          - {cmd: label.hide, data: {id: all}  }
        movie:
          layers:
            - {depth: 7, content: clear }
          zoom: {scale: 1}
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Creating an Inventory
                body: CIP requires us to inventory every BCA and PCA, along with all BCSI locations, onto Asset Lists. These form the core of what we protect with our CIP defenses. The CIP defenses we add to the facility will often require servers and software of their own to operate. For example, a door control system might have a server that logs entry and exit. These defensive assets will also be included on the asset lists and get their own unmemorable CIP acronyms like "PACS" and "EACMS". We'll discuss these assets further as we add them to the facility in future episodes.
                btn:
                  style: lightning
                  text: continue
                  action: {cmd: slides.next-slide}
      # 1 Dialogue Get to Know your Assets  ==========================================
      -
        title: Get to Know Your Assets
        movie:
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                replaceVars: [body]
                title: Get to Know Your Assets
                body: Review your inventory. Click on your assets if you'd like to learn more about them. <br/><br/>We've reached the end of this chapter. I've programmed your specific duties at ${companyName} into the WarCore to review. When you're ready to review duties, click "Review Duties" at the bottom to proceed.
                btn:
                  style: lightning
                  text: GOT it!
                  action: {cmd: slides.next-slide}
      # 1 Zoom Assets view  ==========================================
      -
        movie:
          layers:
            - {depth: 7, content: asset_view.json }
        duration: {kind: time, seconds: .1 }
      # 1 Highlight Equipment  ==========================================
      -
        action:
          - {cmd: highlight, data: {id: con-sys-rack, level: blue} }
          - {cmd: highlight, data: {id: esp-ns, level: blue } }
          - {cmd: highlight, data: {id: data-acs, level: blue} }
          - {cmd: highlight, data: {id: control-sas, level: blue} }
          - {cmd: highlight, data: {id: operator-ws, level: blue } }
          - {cmd: highlight, data: {id: file-server, level: orange} }
          - {cmd: highlight, data: {id: map-computer, level: orange} }
          - {cmd: highlight, data: {id: printer, level: orange} }
          - {cmd: highlight, data: {id: filing-cabinet, level: yellow} }
          - {cmd: highlight, data: {id: map, level: yellow} }
          - {cmd: highlight, data: {id: monitor, level: yellow} }
        duration: {kind: ux}
        # 1 Equipment exploration component:
        ux:
          components:
            -
              kind: explore-cards
              config:
                required-views: 5 # (number of cards they have to view to move on to next slide)
                template: equipment
                cards:
                  -
                    hit: con-sys-rack-hit
                    name: Control System Rack
                    type: BCA
                    network: ESP
                    description: A facility control system is specialized hardware and software that controls a physical asset like a Breaker, Generator, or Tesla Cannon. Treated as one unit.
                  -
                    hit: esp-ns-hit
                    name: Network Rack - ESP Network Switch
                    type: PCA
                    network: ESP
                    description: Network switch for the Electronic Security Perimeter.
                  -
                    hit: data-acs-hit
                    name: Data Acquisition and Control Server
                    type: BCA
                    network: ESP
                    description: Collects data from the Control System and issues controls from workstations and other devices to the Control System.
                  -
                    hit: control-sas-hit
                    name: Control System Application Server
                    type: BCA
                    network: ESP
                    description: Runs applications that provide advanced functionality on top of the Control System.
                  -
                    hit: operator-ws-hit
                    name: Operator Workstation
                    type: BCA
                    network: ESP
                    description: Powers the operator monitors
                  -
                    hit: file-server-hit
                    name: File Server
                    type: None
                    network: Corporate
                    description: Contains maps, network diagrams and other information useful to have on the controls network for reference and maintenance.
                  -
                    hit: map-computer-hit
                    name: Mapboard Computer
                    type: PCA
                    network: ESP
                    description: Displays data on the mapboard from the control system
                  -
                    hit: printer-hit
                    name: First Floor Printer
                    type: PCA
                    network: ESP
                    description: Printer attached to a protected network.
                  -
                    hit: filing-cabinet-hit
                    name: Filing Cabinets
                    type: BCSI
                    network: N/A
                    description: Holds protected information
                  -
                    hit: map-hit
                    name: Mapboard
                    type: BCSI
                    network: N/A
                    description: Shows a control room operator a dynamic map of the power grid they are managing or shows a power plant operator the map of their facility and controls.
                  -
                    hit: monitor-hit
                    name: Operator Monitors
                    type: BCSI
                    network: N/A
                    description: Operators like lots of monitors to see all their systems
                  -
                    hit: laptop-hit
                    name: First Floor Laptop
                    type: BCA
                    network: ESP
                    description: Used by technicians for troubleshooting.
      # 1 Dialogue Creating Inventory ==========================================
      -
        title: Creating an Inventory
        movie:
          layers:
            - {depth: 7, content: clear }
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Creating an Inventory
                body: The <a data-label="bca">BCA<a> and <a data-label="pca">PCA<a> that we just tagged form the core of what we protect, and we'll be adding new servers and software to our facility in future episodes that provide defenses around these assets. The assets we'll add to the facility come with delightful <a data-label="cip">CIP<a> acronyms like "PACS" and "EACMS." To make your life easier, we'll refer to all assets with one term going forward - we'll call them  <a data-label="crca" class="new">CIP-Related Cyber Assets (CRCA)<a>. <br/><br/>CIP requires that our Compliance Team document an inventory of every CRCA, along with all <a data-label="bcsi">BCSI<a> locations. These Asset Lists give us a complete inventory of everything we must protect.
                btn:
                  style: lightning
                  text: review duties
                  action: {cmd: slides.next-slide}
      # 1 Dialogue Duty Call ==========================================
      -
        title: Duty Call!
        movie:
          layers:
            - {depth: 7, content: clear }
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                replaceVars: [body]
                title: Duty Call!
                body: "We've reached the end of the chapter. I've programmed your specific duties at ${companyName} into the WarCore to review next before proceeding."
                btn:
                  style: lightning
                  text: review duties
                  action: {cmd: slides.next-slide}
      # 1 Duties with CTANLEE Guidance ==========================================
      -
        action:
          - {cmd: "unhighlight.all"}
        dialogue:
          timeline:
            - {action: a }
            - {action: b }
            - {action: c }
          defaults:
            next: audio
          actions:
            a:
              pos: [150, 200]
              emo: happy
              text: "Your duties are listed here. Click on a duty to review it."
              audio: Story_2_Ctanlee_31.mp3
            b:
              pos: [640, 600]
              emo: happy
              text: "Click I acknowledge at the bottom of the duty when you are done."
              audio: Story_2_Ctanlee_32.mp3
            c:
              pos: [640, 680]
              emo: happy
              text: "When all duties are completed, you can click CONTINUE to proceed."
              audio: Story_2_Ctanlee_33.mp3
        ux:
          components:
            -
              kind: duties
              config: {definition: ~l/ep2-ch1-duties.json}
        duration: {kind: ux}

  # ----------------------------------------------
  # ------------------------------------ CHAPTER 2
  # ----------------------------------------------
  -
    title: Chapter 2
    subtitle: Defenders and Duties
    kind: chapter
    slides:
      # 2 Dialogue Defenders ==========================================
      -
        title: Defenders
        movie:
          layers:
            - {depth: 7, content: clear }
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Defenders
                body: We now know what we're defending and why. Let's talk about who is doing the defending. <a data-label="cip">CIP<a> requires that a single <a data-label="manager" class="new">CIP Senior Manager<a> be made responsible for all <a data-label="cip">CIP<a> defenses. This is a big job, so this manager will delegate responsibilities to <a data-label="defenders" class="new">Defenders<a> in the facilities to perform. <br/><br/>Let's add some of these Defenders to our facility.
                btn:
                  style: lightning
                  text: load defenders
                  action: {cmd: slides.next-slide}
      # 2 Animate Defenders Build ==========================================
      -
        movie:
          layers:
            - {depth: 7, content: factory_workers_build.json, events: [complete] }
        duration: {kind: listen, event: layer.7.complete}
      # 2 Animate Defenders Loop ==========================================
      -
        movie:
          layers:
            - {depth: 7, content: factory_workers_loop.json, loop: true }
        duration: {kind: time, seconds: .2}
      # 2 Dialogue More Defenders ==========================================
      -
        title: More Defenders
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: More Defenders
                body: The <a data-label="manager">CIP Senior Manager<a> often has specialized <a data-label="defenders">Defenders<a> who help in different ways. Let's add the Compliance Team, Human Resources, and the <a data-label="manager">CIP Senior Manager<a> herself to our HQ building.
                btn:
                  style: lightning
                  text: load defenders
                  action: {cmd: slides.next-slide}
      # 2 Animate HQ Defenders ==========================================
      -
        movie:
          layers:
            - {depth: 8, content: hq_facility_build.json, events: [complete] }
        duration: {kind: listen, event: layer.8.complete}
      # 2 Dialogue Duties ==========================================
      -
        title: Duties
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Duties
                body: 'We have <a data-label="defenders">Defenders<a>! But how do they know how to defend our facility? The <a data-label="manager">CIP Senior Manager<a> is required to create a <a data-label="cyber_security_program" class="new">Cyber Security Program<a> that describes how our people and defenses meet the <a data-label="cip">CIP<a> Standards. Each Defender has two essential responsibilities to support the Program. <br/><ol type="A"><li>To Perform Duties that secure our infrastructure</li><li>To Create Evidence that those duties were performed </li></ol><br/>To aid you in these responsibilities, <a data-label="cip">CIP<a> requires that you receive dedicated cyber-security training and regular awareness materials in addition to normal job training at your organization.'
                btn:
                  style: lightning
                  text: continue
                  action: {cmd: slides.next-slide}
      # 2 Dialogue Get to Know Defenders ==========================================
      -
        title: Get to Know Your Defenders
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Get to Know Your Defenders
                body: While leadership may define the <a data-label="cyber_security_program">Program<a> and provide training and tools, success depends on everyone doing their duties. Protecting our infrastructure is a team effort and that's why we don't give out the title <a data-label="defenders">"Defender"<a> lightly. <br/><br/>Each of the <a data-label="defenders">Defenders<a> in your facility will have specific duties to perform and evidence to create. Click on a few people to see some examples. When you're ready to review duties for this chapter, use the button at the bottom of the screen to proceed.
                btn:
                  style: lightning
                  text: got it
                  action: {cmd: slides.next-slide}
      # 2 Explore Defenders ==========================================
      -
        duration: {kind: ux}
        action:
          - {cmd: label.add, data: {id: jerry-hit, text: Jerry, face: right } }
          - {cmd: label.add, data: {id: brad-hit, text: Brad, face: right } }
          - {cmd: label.add, data: {id: shelly-hit, text: Shelly, face: right } }
          - {cmd: label.add, data: {id: lisa-hit, text: Lisa, face: top, arrow: right} }
          - {cmd: label.add, data: {id: rod-hit, text: Rod, face: top, arrow: right} }
          - {cmd: label.add, data: {id: richard-hit, text: Richard, face: top, arrow: right} }
          - {cmd: label.add, data: {id: arnold-hit, text: Arnold, face: top} }
        ux:
          components:
            -
              kind: explore-cards
              config:
                required-views: 3
                template: defender
                cards:
                  -
                    hit: arnold
                    name: Arnold, Mr. Electrical Worker
                    quote: This country was built by people wearing denim.
                    personal1: Proud of
                    personal2: Family, America, personal safety record, fixing things with his bare hands, and the big one that got away. No really, it was that big.
                    duties:
                      - Using ID Card to Access Facilities
                      - Following Change Control Procedures Before Working on a BES Cyber Asset
                    evidences:
                      - Door System Logs
                      - Change Control Checklist
                  -
                    hit: shelly
                    name: Shelly, CIP Senior Manager
                    quote: Keeping head and Standards high.
                    Personal1: Remembers fondly
                    Personal2: That one time during the CIPv5 transition that she participated in a conference call on her phone, a separate WebEx on her laptop, all while leading a team meeting in person.
                    duties:
                      - Approve Cyber Security Program
                      - Delegate Duties and Responsibilities
                    evidences:
                      - Signed Cyber Security Program
                      - Signed delegations documentation
                  -
                    hit: jerry
                    name: Jerry, that guy from HR
                    quote: Always ready to give out hugs…while respecting your personal space
                    Personal1: Holds record for
                    Personal2: Reviewing 247 resumes in one day
                    duties:
                      - Check backgrounds and criminal history of new employees
                      - Notify when employees are terminated so their access can be disabled
                    evidences:
                      - Dated personnel risk assessment records
                      - Dated workflow with approvals
                  -
                    hit: brad
                    name: Brad, Compliance Team Warrior
                    quote: Compliance is just another way to say 'I love you'
                    Personal1: Favorite possession
                    Personal2: A list of CIP acronyms signed by all members of the CIP Drafting Committee.
                    duties:
                      - Ensuring Compliance Requirements are documented in the Cyber Security Program
                      - Regular Review and Approvals of Facilities and Assets
                    evidences:
                      - Signed and dated Cyber Security Program with accompanying processes
                      - Signed and dated lists of assets
                  -
                    hit: rod
                    name: Rod, the Smooth Operator
                    quote: 99% routine, 1% sheer terror.
                    Personal1: Daily caffeine quota is
                    Personal2: 5 cups of coffee, 3 energy drinks
                    duties:
                      - Using ID Card to Access Facilities
                      - Not Plugging Your Cell Phone Into Your Control System Workstation
                    evidences:
                      - Door System Logs
                      - Computer System Events
                  -
                    hit: richard
                    name: Richard, Your IT Dude
                    quote: I'm not anti-social. I'm just not user friendly
                    Personal1: Lifetime accomplishment
                    Personal2: Playing World of Warcraft 47.38 hours in a row.
                    duties:
                      - Patching Servers
                      - Updating Antivirus on BCAs
                    evidences:
                      - Production Change Forms
                      - Task Documentation
                  -
                    hit: lisa
                    name: Lisa, Supervisor Who Wears Prada
                    quote: Working weekends allows for a jumpstart of the work week
                    Personal1: Happiest when
                    Personal2: A good plan comes together.
                    duties:
                      - Approving facility-related Cyber Assets on the Cyber Asset Lists
                      - Using ID Card to Access Facilities
                    evidences:
                      - Dated workflow with approvals
                      - Door System Logs
      # 2 Duties ==========================================
      -
        action:
          - {cmd: label.hide, data: {id: all}  }
        movie:
          layers:
            - {depth: 8, content: clear, action: {cmd: chrome.hide}}
        ux:
          components:
            -
              kind: duties
              config: {definition: ~l/ep2-ch2-duties.json}
        duration: {kind: ux}
  # ----------------------------------------------
  # ------------------------------------ CHAPTER 3
  # ----------------------------------------------
  -
    title: Chapter 3
    subtitle: Our Regulators
    dev:
      startIndex: 0
    kind: chapter
    slides:
      # 3 Dialogue Regulators ==========================================
      -
        title: Regulators
        movie:
          layers:
            - {depth: 8, content: clear, action: {cmd: chrome.show} }
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                replaceVars: [body]
                title: Regulators
                body: The government wants to ensure our organization sustains the defenses required by compliance, so ${companyName} is accountable to regulators. The <a data-label="nerc" class="new">North American Electric Reliability Corporation (NERC)<a> is responsible for defining the <a data-label="cip">CIP Standards<a> and gives authority to ${companyRegulator} to help us interpret the <a data-label="cip">Standards<a> and ensure we are following them through audits. <br/><br/>The evidence we create is critical to this relationship. It helps us identify and fix issues, and shows our regulators that we are holding fast against the robots. With all these duties to perform and evidence to record, it's probably a good time to touch on what happens when we miss performing a duty or creating evidence.
                btn:
                  style: lightning
                  text: continue
                  action: {cmd: slides.next-slide}
      # 3 Dialogue Violation ==========================================
      -
        title: Violations
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Violations
                body: A Good Catch is doing something that almost violates a <a data-label="cip">CIP<a> requirement. These are learning opportunities that allow us to improve our processes. <br/><br/>A Self-Report is when we violate a  <a data-label="cip">CIP<a> requirement, but discover the issue and fix our processes so the issue won't happen again. We still must self-report to our regulator, but regulators look more favorably on these situations. <br/><br/>A Violation is violating a <a data-label="cip">CIP<a> requirement and being caught by an auditor. These can come with big fines, up to $1,000,000 per day, per incident. <br/><br/>Let's run these situations through the simulator and see if you can identify them.
                btn:
                  style: lightning
                  text: run simulator
                  action: {cmd: slides.next-slide}
      # 3 Animation Violation ==========================================
      -
        movie:
          layers:
            - {depth: 7, content: clear }
            - {depth: 8, content: violation.json }
        dialogue:
          defaults:
            next: audio
          timeline:
            - {action: a }
            - {action: b }
            - {action: c }
            - {action: d }
            - {action: e }
          actions:
            a:
              pos: [100,100]
              next: 1000
            b:
              pos: [100,100]
              text: Oh, we have a visitor. Where are you going?
              audio: Story_2_Ctanlee_12.mp3
            c:
              next: 3000
              pos: [100,100]
              text: "Visiting the control room, are we?"
              audio: Story_2_Ctanlee_X38.mp3
            d:
              next: 4000
              pos: [100,100]
              text: "Hey! That's BES Cyber System Information."
              audio: Story_2_Ctanlee_X39.mp3
            e:
              pos: [100,100]
              text: "Hey! Stop. Stop. Don't leave with that! Simulation Pause!"
              audio: Story_2_Ctanlee_15.mp3
        duration: {kind: dialogue }
      # 3 Ctanlee Clear ==========================================
      -
        action: {cmd: ctanlee.gohome}
        duration: {kind: time, seconds: 1 }
      # 3 Violation Simple Selector ==========================================
      - !!inc/file ./episodes/episode1/yaml/_simple-selector-violation.yaml
      # 3 Animation Good Catch ==========================================
      -
        movie:
          layers:
            - {depth: 8, content: clear }
            - {depth: 8, content: goodcatch.json }
        dialogue:
          defaults:
            next: audio
          timeline:
            - {action: a }
            - {action: b }
            - {action: c }
          actions:
            a:
              pos: [200, 200]
              emo: surprise
              next: 7400
            b:
              pos: [100,100]
              text: "I think Rod saw what she did. Stop her!"
              audio: Story_2_Ctanlee_19.mp3
              next: 4500
            c:
              pos: [100,100]
              text: "Simulation Pause! Oh My!"
              audio: Story_2_Ctanlee_20.mp3
        duration: {kind: dialogue }
      # 3 Ctanlee Clear ==========================================
      -
        action: {cmd: ctanlee.gohome}
        duration: {kind: time, seconds: 1 }
      # 3 Good Catch Simple Selector ==========================================
      - !!inc/file ./episodes/episode1/yaml/_simple-selector-goodcatch.yaml
      # 3 Animation Identify Assess ==========================================
      -
        movie:
          layers:
            - {depth: 8, content: clear }
            - {depth: 8, content: identifyassess.json }
        dialogue:
          defaults:
            next: audio
          timeline:
            - {action: a }
            - {action: b }
            - {action: c }
          actions:
            a:
              pos: [200, 200]
              emo: surprise
              next: 15000
            b:
              pos: [100,100]
              text: "Excellent! She's asking about the camera!"
              audio: Story_2_Ctanlee_26.mp3
              next: 4000
            c:
              pos: [100,100]
              text: "Oh good, the pictures are deleted."
              audio: Story_2_Ctanlee_X41.mp3
              next: 13000
        duration: {kind: dialogue }
      # 3 Animation Clear ==========================================
      -
        movie:
          layers:
            - {depth: 8, content: clear }
        action: {cmd: ctanlee.gohome}
        duration: {kind: time, seconds: 1 }
      # 3 Identify Assess Simple Selector ==========================================
      - !!inc/file ./episodes/episode1/yaml/_simple-selector-identifyassess.yaml
      # 3 Dialogue One Down ==========================================
      -
        title: One Episode Down
        action: {cmd: ctanlee.gohome}
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: One Episode Down
                body: Nice job, Cadet. Our facility is built, we tagged <a data-label="crca">CRCAs<a> and <a data-label="bcsi">BCSI<a> locations, learned about the <a data-label="manager">CIP Senior Manager<a> and the <a data-label="cyber_security_program">Cyber Security Program<a>, and added <a data-label="defenders">Defender<a>. Most importantly, we learned that our core mission as <a data-label="defenders">Defenders<a> is to protect our infrastructure by performing our duties and creating evidence. <br/><br/>Let's test your knowledge and move onto the next episode where we'll build and secure the perimeters around our facility. Buckle up into your office chairs, because things are about to get really interesting. The robots are coming…
                btn:
                  style: lightning
                  text: Review Duties
                  action: {cmd: slides.next-slide}
      # 3 Duties ==========================================
      -
        movie:
          layers:
            - {depth: 9, content: clear }
        ux:
          components:
            -
              kind: duties
              config: {definition: ~l/ep2-ch1-duties.json}
        duration: {kind: ux}
      # 3 Quiz ==========================================
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: quiz
              config:
                question-value: 120
                questions:
                  -
                    question: In this scenario, what do you expect to see?
                    answers:
                      -
                        a: Bigfoot
                        r: Better luck next time
                      -
                        a: A single server
                        r: Better luck next time
                      -
                        a: This is the right answer
                        r: Nice, you're getting the hang of this!
                        c: true
                  -
                    question: What is the shortest distance between two points
                    answers:
                      -
                        a: A parallel line
                        r: Better luck next time
                      -
                        a: A straight line
                        r: Nice, I knew you were smart!
                        c: true
                      -
                        a: A curve
                        r: Better luck next time
                  -
                    question: What is the shortest distance between two points
                    answers:
                      -
                        a: A parallel line
                        r: Better luck next time
                      -
                        a: A straight line
                        r: Nice, I knew you were smart!
                        c: true
                      -
                        a: A curve
                        r: Better luck next time
      # 3 Rank Advance ==========================================
      -
        movie:
          layers:
            - {depth: 10, background: black, content: ~g/cadet_first_class.json, events: [complete] }
        duration: {kind: listen, event: layer.10.complete }
      #################### TESTING
      # -
      #   ux:
      #     components:
      #       -
      #         kind: ghost-ux
      #         config:
      #           targets:
      #             -
      #               id: control-system-outline
      #               over: {cmd: highlight, data: {id: control-system-outline, level: blue} }
      #               out: {cmd: unhighlight, data: control-system-outline }
      #               click: {cmd: unhighlight, data: control-system-outline }
      #             -
      #               id: esp-ns
      #               over: {cmd: highlight, data: {id: esp-ns, level: blue} }
      #               out: {cmd: unhighlight, data: esp-ns }
      #               click: {cmd: unhighlight, data: esp-ns }
      #             -
      #               id: server3-outline
      #               over: {cmd: highlight, data: {id: server3-outline, level: blue} }
      #               out: {cmd: unhighlight, data: server3-outline }
      #               click: {cmd: unhighlight, data: server3-outline }
      #             -
      #               id: server4-hit
      #               over: {cmd: highlight, data: {id: server4-group, level: orange} }
      #               out:   {cmd: highlight, data: {id: server4-group, level: blue} }
      #               click: {cmd: highlight, data: {id: server4-group, level: yellow} }
      #             -
      #               id: tower-outline
      #               over: {cmd: highlight, data: {id: tower-outline, level: blue} }
      #               out: {cmd: unhighlight, data: tower-outline }
      #               click: {cmd: unhighlight, data: tower-outline }
