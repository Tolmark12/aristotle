title: Training Two
dev:
  startIndex: 0


# CHAPTER 2
chapters:
  -
    dev:
      volume: 1
      startIndex: 0
      # dontAnimate: [ 2, 3, 4]
    kind: chapter
    slides:
      # Sky and mountains build-in
      -
        movie:
          layers:
            - {depth: 0, content: c1-sky.svg}
            - {depth: 2, content: c1-background-buildin.json, events: [complete]  }
        duration: {kind: listen, event: layer.2.complete}
      # Building Selector
      - !!inc/file ./episodes/episode2/yaml/_building-selector.yaml
      # Interior build-in
      -
        movie:
          layers:
            - {depth: 4, content: interior_build.json, events: [complete] }
        duration: {kind: listen, event: layer.4.complete}
        action:
          - {cmd: movie.load-layer, data: {depth: 6, wait: 500, loop: true}, INJECT_GLOBAL_VARS: [ {content: facilityLoop} ] }
          - {cmd: ctanlee.clear}
      # Building Tour - ctanlee
      - !!inc/file ./episodes/episode2/yaml/_building-overview.yaml
      -
        movie:
          layers:
            - {depth: 4, content: interior_static.png }
        duration: {kind: time, seconds: 1 }
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: BES Cyber Assets
                body: Our job is to protect the programmable equipment - Cyber Assets - in our facilities. Specifically, CIP protects equipment that will cause real-time operational problems for the Bulk Electric System if they are hacked, attacked, or disabled. Think control systems, relay devices, and other equipment. CIP calls these BES Cyber Assets (BCA). <br/>Our Compliance Team has already identified the BCA in this facility. Let me put tags on the devices so we can see which ones are BCA.
                btn:
                  style: lightning
                  text: tag BCA
                  action: {cmd: slides.next-slide}
      -
        movie:
          layers:
            - {depth: 7, content: asset_view.json }
        duration: {kind: time, seconds: 1 }
      # Components overview
      -
        duration: {kind: ctanlee }
        ctanlee:
          timeline:
            - {action: con-sys-rack }
            - {action: esp-ns }
            - {action: data-acs }
            - {action: control-sas }
            - {action: operator-ws }
          defaults:
            next: click
            delayMove: 650
          actions:
            con-sys-rack:
              pos: con-sys-rack-hit
              action:
                - {cmd: highlight, data: {id: con-sys-rack, level: blue} }
                - {cmd: label.add, data: {id: con-sys-rack-hit, text: Control System, face: top, arrow: right} }
            esp-ns:
              pos: esp-ns-hit
              action:
                - {cmd: highlight, data: {id: esp-ns, level: blue } }
                - {cmd: label.add, data: {id: esp-ns-hit, text: Network Switch, face: bottom} }
            data-acs:
              pos: data-acs-hit
              action:
                - {cmd: highlight, data: {id: data-acs, level: blue} }
                - {cmd: label.add, data: {id: data-acs-hit, text: Data Acquisition and Control Server, face: left } }
            control-sas:
              pos: control-sas-hit
              action:
                - {cmd: highlight, data: {id: control-sas, level: blue} }
                - {cmd: label.add, data: {id: control-sas-hit, text: Control System Application Server, face: bottom, arrow: right } }
            operator-ws:
              pos: operator-ws-hit
              action:
                - {cmd: highlight, data: {id: operator-ws, level: blue } }
                - {cmd: label.add, data: {id: operator-ws-hit, text: Operator Workstation, face: right } }
      # ZZzZZZZZ
      -
        action:
          - {cmd: label.hide, data: {id: all}  }
        movie:
          zoom: {scale: 1, x: 595, y: 424}
          layers:
            - {depth: 7, content: clear }
        duration: {kind: ctanlee}
        ctanlee:
          timeline:
            - {action: a }
          actions:
            a:
              pos: [100,100]
              text: "Most facilities that fall under CIP have a lot of equipment like this that controls the Bulk Electric System. Imagine the damage the robots would do if they gained access to control a breaker, power plant or Tesla Cannon. Shudder."
              audio: Story_2_Ctanlee_8.m4a
              next: click
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Protected Cyber Assets
                body: When BCA are connected to a network like these are, any other devices on the same network like file servers, network printers, and displays must also be protected at the same level as BCA so no security weaknesses are introduced to the network. We call these devices Protected Cyber Assets (PCA).  <br/>I'll tag the PCA next.
                btn:
                  style: lightning
                  text: tag PCA
                  action: {cmd: slides.next-slide}
      -
        movie:
          layers:
            - {depth: 7, content: asset_view.json }
        duration: {kind: time, seconds: 1 }
      # Components overview
      -
        duration: {kind: ctanlee }
        ctanlee:
          timeline:
            - {action: file-server }
            - {action: map-computer }
            - {action: printer }
          defaults:
            next: click
          actions:
            file-server:
              pos: "file-server-hit"
              text: "File Server"
              action:
                - {cmd: highlight, data: {id: file-server, level: orange} }
                - {cmd: label.add, data: {id: file-server-hit, text: File Server, face: top, arrow: right} }
            map-computer:
              pos: "map-computer-hit"
              text: "Mapboard Computer"
              action:
                - {cmd: highlight, data: {id: map-computer, level: orange} }
                - {cmd: label.add, data: {id: map-computer-hit, text: Map Computer, face: bottom, arrow: right} }
            printer:
              pos: "printer-hit"
              text: "Printer"
              action:
                - {cmd: highlight, data: {id: printer, level: orange} }
                - {cmd: label.add, data: {id: printer-hit, text: Printer, face: bottom, arrow: right} }
      -
        action:
          - {cmd: label.hide, data: {id: all}  }
        movie:
          layers:
            - {depth: 7, content: clear }
        duration: {kind: ctanlee}
        ctanlee:
          timeline:
            - {action: a }
          actions:
            a:
              pos: [100,100]
              text: "You may be saying to yourself, CTANLEE it's just a printer! If we had more time I'd tell you about The Paperfeed Incident of '08 where some Virus Bots hijacked a corporate unit. Many Defenders still bear papercut scars."
              audio: Story_2_Ctanlee_9.m4a
              next: click
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: BES Cyber System Information
                body: Facilities are contain information useful for a bot planning an attack. For starters, we often have maps, security plans, network diagrams, and configuration information stored on hard drives, file shares, and in filing cabinets. This is called BES Cyber System Information (BCSI) and we must protect their locations. <br/>All BCA and PCA are assumed to contain BCSI, so we'll tag the other location we might find it.
                btn:
                  style: lightning
                  text: tag BCSI
                  action: {cmd: slides.next-slide}
      -
        movie:
          layers:
            - {depth: 7, content: asset_view.json }
        duration: {kind: time, seconds: 1 }
      -
        duration: {kind: ctanlee }
        ctanlee:
          timeline:
            - {action: filing-cabinet }
            - {action: map }
            - {action: monitor }
          defaults:
            next: click
          actions:
            filing-cabinet:
              pos: "filing-cabinet-hit"
              text: "Substation diagrams"
              action:
                - {cmd: highlight, data: {id: filing-cabinet, level: yellow} }
                - {cmd: label.add, data: {id: filing-cabinet-hit, text: Substation Diagrams, face: bottom, arrow: right} }
            map:
              pos: "map-computer-hit"
              text: "System Map"
              action:
                - {cmd: highlight, data: {id: map, level: yellow} }
                - {cmd: label.add, data: {id: map-computer-hit, text: System Map, face: bottom, arrow: right} }
            monitor:
              pos: "monitor-hit"
              text: "Control System Views"
              action:
                - {cmd: highlight, data: {id: monitor, level: yellow} }
                - {cmd: label.add, data: {id: monitor-hit, text: Control System Views, face: top, arrow: right} }
      -
        action:
          - {cmd: label.hide, data: {id: all}  }
        movie:
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Creating an Inventory
                body: CIP requires us to inventory every BCA and PCA, along with all BCSI locations, onto Asset Lists. These form the core of what we protect with our CIP defenses. The CIP defenses we add to the facility will often require servers and software of their own to operate. For example, a door control system might have a server that logs entry and exit. These defensive assets will also be included on the asset lists and get their own unmemorable CIP acronyms like "PACS" and "EACMS". We'll discuss these assets further as we add them to the facility in future episodes.
                btn:
                  style: lightning
                  text: continue
                  action: {cmd: slides.next-slide}
      -
        action:
          - {cmd: "unhighlight.all"}
          - {cmd: label.clear, data: {id: all}  }
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Get to Know Your Assets
                body: Review your inventory. Click on your assets if you'd like to learn more about them. <br/>We've reached the end of this chapter. I've programmed your specific duties at Company Name - Arizona Public Service into the WarCore to review. When you're ready to review duties, click "Review Duties" at the bottom to proceed.
                btn:
                  style: lightning
                  text: GOT it!
                  action: {cmd: slides.next-slide}
      -
        action:
          - {cmd: highlight, data: {id: con-sys-rack, level: blue} }
          - {cmd: label.add, data: {id: con-sys-rack-hit, text: Control System, face: top, arrow: right} }
          - {cmd: highlight, data: {id: esp-ns, level: blue } }
          - {cmd: label.add, data: {id: esp-ns-hit, text: Network Switch, face: bottom} }
          - {cmd: highlight, data: {id: data-acs, level: blue} }
          - {cmd: label.add, data: {id: data-acs-hit, text: Data Acquisition and Control Server, face: left } }
          - {cmd: highlight, data: {id: control-sas, level: blue} }
          - {cmd: label.add, data: {id: control-sas-hit, text: Control System Application Server, face: bottom, arrow: right } }
          - {cmd: highlight, data: {id: operator-ws, level: blue } }
          - {cmd: label.add, data: {id: operator-ws-hit, text: Operator Workstation, face: right } }
          - {cmd: highlight, data: {id: file-server, level: orange} }
          - {cmd: label.add, data: {id: file-server-hit, text: File Server, face: top, arrow: right} }
          - {cmd: highlight, data: {id: map-computer, level: orange} }
          - {cmd: label.add, data: {id: map-computer-hit, text: Map Computer, face: bottom, arrow: right} }
          - {cmd: highlight, data: {id: printer, level: orange} }
          - {cmd: label.add, data: {id: printer-hit, text: Printer, face: bottom, arrow: right} }
          - {cmd: highlight, data: {id: filing-cabinet, level: yellow} }
          - {cmd: label.add, data: {id: filing-cabinet-hit, text: Substation Diagrams, face: bottom, arrow: right} }
          - {cmd: highlight, data: {id: map, level: yellow} }
          - {cmd: label.add, data: {id: map-computer-hit, text: System Map, face: bottom, arrow: right} }
          - {cmd: highlight, data: {id: monitor, level: yellow} }
          - {cmd: label.add, data: {id: monitor-hit, text: Control System Views, face: top, arrow: right} }
          - {cmd: label.show, data: {id: all}  }
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Explore Placeholder
                body: Ability to click and read about assets.
                btn:
                  style: lightning
                  text: continue
                  action: {cmd: slides.next-slide}
      -
        action:
          - {cmd: "unhighlight.all"}
          - {cmd: label.hide, data: {id: all}  }
        movie:
          layers:
            - {depth: 7, content: clear }
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Defenders
                body: We now know what we're defending and why. Let's talk about who is doing the defending. CIP requires that a single CIP Senior Manager be made responsible for all CIP defenses. This is a big job, so she delegates responsibilities to Defenders in the facilities to perform. <br/>Let's add some of these Defenders to our facility.
                btn:
                  style: lightning
                  text: load defenders
                  action: {cmd: slides.next-slide}
      -
        movie:
          layers:
            - {depth: 7, content: factory_workers_build.json, events: [complete] }
        duration: {kind: listen, event: layer.7.complete}
      -
        movie:
          layers:
            - {depth: 7, content: factory_workers_loop.json, loop: true }
        duration: {kind: time, seconds: .2}
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: More Defenders
                body: The CIP Senior Manager often has specialized teams who help in different ways. Let's add the Compliance Team, Human Resources, and the CIP Senior Manager herself to our HQ building.
                btn:
                  style: lightning
                  text: load defenders
                  action: {cmd: slides.next-slide}
      -
        movie:
          layers:
            - {depth: 8, content: hq_facility_build.json, events: [complete] }
        duration: {kind: listen, event: layer.8.complete}
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Duties
                body: We have Defenders! But how do they know how to defend our facility? The CIP Senior Manager is required to create a Cyber Security Program that describes how our people and defenses meet the CIP Standards. The Program defines the jobs of our Defenders - to learn and Perform Duties that secure our infrastructure and to Create Evidence that those duties were performed duties correctly. CIP requires we communicate duties to Defenders through dedicated CIP security training and regular awareness campaigns. <br/>Did you notice something, Cadet? While leadership may define the Program and provide training and tools, success depends on everyone doing their duties. Protecting our infrastructure is a team effort and that's why we don't give out the title "Defender" lightly.
                btn:
                  style: lightning
                  text: continue
                  action: {cmd: slides.next-slide}
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Get to Know Your Defenders
                body: Each of your Defenders will have specific duties to perform and evidence to create. Click on a few people to see some examples. When you're ready to review duties for this chapter, click "Review Duties" at the bottom to proceed.
                btn:
                  style: lightning
                  text: got it
                  action: {cmd: slides.next-slide}
      -
        duration: {kind: ux}
        action:
          - {cmd: label.add, data: {id: jerry-hit, text: Jerry, face: right } }
          - {cmd: label.add, data: {id: brad-hit, text: Brad, face: right } }
          - {cmd: label.add, data: {id: shelly-hit, text: Shelly, face: right } }
          - {cmd: label.add, data: {id: lisa-hit, text: Lisa, face: top, arrow: right} }
          - {cmd: label.add, data: {id: rod-hit, text: Rod, face: top, arrow: right} }
          - {cmd: label.add, data: {id: richard-hit, text: Richard, face: top, arrow: right} }
          - {cmd: label.add, data: {id: arnold-hit, text: Arnold, face: top} }
        ux:
          components:
            -
              kind: defender-cards
              config:
                defenders:
                  arnold:
                    name: Arnold, Mr. Electrical Worker
                    quote: This country was built by people wearing denim.
                    personal1: Proud of
                    personal2: Family, America, personal safety record, fixing things with his bare hands, and the big one that got away. No really, it was that big.
                    duties:
                      - Using ID Card to Access Facilities
                      - Following Change Control Procedures Before Working on a BES Cyber Asset
                    evidences:
                      - Door System Logs
                      - Change Control Checklist
                  lisa:
                    name: Lisa, Supervisor Who Wears Prada
                    quote: Working weekends allows for a jumpstart of the work week
                    Personal1: Happiest when
                    Personal2: A good plan comes together.
                    duties:
                      - Approving facility-related Cyber Assets on the Cyber Asset Lists
                      - Using ID Card to Access Facilities
                    evidences:
                      - Dated workflow with approvals
                      - Door System Logs
      -
        movie:
          layers:
            - {depth: 8, content: clear }
        duration: {kind: time, seconds: 1 }
      -
        action:
          - {cmd: label.hide, data: {id: all}  }
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Regulators
                body: The government wants to ensure our organization sustains the defenses required by compliance, so Company Name Arizona Public Service is accountable to regulatory bodies. NERC is responsible for defining the CIP Standards and gives authority to Company Regulator WECC to help us interpret the Standards and ensure we are following them through audits. <br/>The evidence we create is critical to this relationship. It helps us identify and fix issues, and shows our regulators that we are holding fast against the robots. With all these duties to perform and evidence to record, it's probably a good time to touch on what happens when we miss performing a duty or creating evidence.
                btn:
                  style: lightning
                  text: continue
                  action: {cmd: slides.next-slide}
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: Violations
                body: A Good Catch is doing something that almost violates a CIP requirement. These are learning opportunities that allow us to improve our processes. <br/>Identify, Assess, and Track is when we violate a CIP requirement, but discover the issue and fix our processes so the issue won't happen again. <br/>A Violation is violating a CIP requirement that doesn't allow for Identify, Assess and Track, or our violation is caught by an auditor. Violations can come with big fines, up to $1,000,000 per day, per incident. <br/>Let's run these situations through the simulator and see if you can identify them.
                btn:
                  style: lightning
                  text: run simulator
                  action: {cmd: slides.next-slide}
      -
        movie:
          layers:
            - {depth: 7, content: clear }
            - {depth: 8, content: violation.json, events: [complete] }
        ctanlee:
          timeline:
            - {action: a }
          actions:
            a:
              pos: [100,100]
              text: "Oh, it looks like an employee from headquarters just walked in. Where are you going?"
              audio: Story_2_Ctanlee_12_15.mp3
        duration: {kind: listen, event: layer.8.complete}
      -
        action: {cmd: ctanlee.gohome}
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: PLACEHOLDER
                body: Should be able to choose from Violation, Good Catch, and Identify Assess
                btn:
                  style: lightning
                  text: Placeholder
                  action: {cmd: slides.next-slide}
      -
        movie:
          layers:
            - {depth: 8, content: goodcatch.json, events: [complete] }
        ctanlee:
          timeline:
            - {action: a }
          actions:
            a:
              pos: [100,100]
              text: "I think the Operator saw that. Stop them!"
              audio: Story_2_Ctanlee_19_20.mp3
        duration: {kind: listen, event: layer.8.complete}
      -
        action: {cmd: ctanlee.gohome}
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: PLACEHOLDER
                body: Should be able to choose from Violation, Good Catch, and Identify Assess
                btn:
                  style: lightning
                  text: Placeholder
                  action: {cmd: slides.next-slide}
      -
        movie:
          layers:
            - {depth: 8, content: clear }
            - {depth: 8, content: identifyassess.json, events: [complete] }
        ctanlee:
          timeline:
            - {action: a }
          actions:
            a:
              pos: [100,100]
              text: "Excellent! She's asking about the camera!"
              audio: Story_2_Ctanlee_26_27.mp3
        duration: {kind: listen, event: layer.8.complete}
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: PLACEHOLDER
                body: Should be able to choose from Violation, Good Catch, and Identify Assess
                btn:
                  style: lightning
                  text: Placeholder
                  action: {cmd: slides.next-slide}
      -
        action: {cmd: ctanlee.gohome}
        duration: {kind: ux}
        ux:
          components:
            -
              kind: dialogue
              config:
                title: One Episode Down
                body: Nice job, Defender. Our facility is built, we tagged BCA, PCA and BCSI locations, learned about the CIP Senior Manager and the Cyber Security Program, and added Defenders. Most importantly, we learned that our core mission as Defenders is to protect our infrastructure performing our duties and creating evidence. <br/>Let's test your knowledge and move onto the next episode where we'll build and secure the perimeters around our facility. Buckle up into your office chairs, because things are about to get really interesting. The robots are comingâ€¦
                btn:
                  style: lightning
                  text: Review Duties
                  action: {cmd: slides.next-slide}
      # EXAMPLE - Quiz
      -
        duration: {kind: ux}
        ux:
          components:
            -
              kind: quiz
              config:
                questions:
                  -
                    question: In this scenario, what do you expect to see?
                    answers:
                      -
                        a: Bigfoot
                        r: Better lucc next time
                      -
                        a: A single server
                        r: Better lucc next time
                      -
                        a: This is the right answer
                        r: Nice, you're getting the hang of this!
                        c: true
                  -
                    question: What is the shortest distance between two points
                    answers:
                      -
                        a: A parallel line
                        r: Better luch next time
                      -
                        a: A straight line
                        r: Better luch next time
                        c: true
                      -
                        a: A curve
                        r: Better luch next time
      #################### TESTING
      # -
      #   ux:
      #     components:
      #       -
      #         kind: ghost-ux
      #         config:
      #           targets:
      #             -
      #               id: control-system-outline
      #               over: {cmd: highlight, data: {id: control-system-outline, level: blue} }
      #               out: {cmd: unhighlight, data: control-system-outline }
      #               click: {cmd: unhighlight, data: control-system-outline }
      #             -
      #               id: esp-ns
      #               over: {cmd: highlight, data: {id: esp-ns, level: blue} }
      #               out: {cmd: unhighlight, data: esp-ns }
      #               click: {cmd: unhighlight, data: esp-ns }
      #             -
      #               id: server3-outline
      #               over: {cmd: highlight, data: {id: server3-outline, level: blue} }
      #               out: {cmd: unhighlight, data: server3-outline }
      #               click: {cmd: unhighlight, data: server3-outline }
      #             -
      #               id: server4-hit
      #               over: {cmd: highlight, data: {id: server4-group, level: orange} }
      #               out:   {cmd: highlight, data: {id: server4-group, level: blue} }
      #               click: {cmd: highlight, data: {id: server4-group, level: yellow} }
      #             -
      #               id: tower-outline
      #               over: {cmd: highlight, data: {id: tower-outline, level: blue} }
      #               out: {cmd: unhighlight, data: tower-outline }
      #               click: {cmd: unhighlight, data: tower-outline }
